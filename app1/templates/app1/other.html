<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags - 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 -->
    <meta charset="utf-8"> 
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <title>quiz_app_project</title>
  </head>
  <body>

<div class='container-fluid text-center '  style="background-color:lightgray">
    <h1 > <b> Quiz App Using JavaScript</b></h1>
    <hr>


<h1 class='question'>  here questions  ?</h1>
<ol id="#radio">

</ol>
<br>
<input type='submit' value='Previous Question' id='previoussubmit' class="btn btn-success btn-lg my-3 float-left ">

<input type='submit' value='Next Question' id='submit' class="btn btn-success btn-lg my-3 float-right">


</div>
<div class="container-fluid bg-dark text-center text-danger ">
    
    <div class="showscore" class="bg-secondary mt-5" ></div>
    <button value="Play Again" onclick="location.reload()" class="btn btn-primary btn-lg my-3">PLAY  AGAIN   </button>

</div>

<div class="container-fluid bg-info">
    <label>Total Questions</label>
    <span id="totalquestion"></span>
    <br>
    <label>correct Questions</label>
    <span id="correctquestion"></span>
    <br>
    <label>wrong Questions</label>
    <span id="wrongquestion"></span>
    <br>
    <label>skip Questions</label>
    <span id="skipquestion"></span>
    </div>
<p id="hello">ello worldh</p>
<button  id="ajax">ajax</button>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>


    <script>
const QuizDB=[
{

    question: "1)  What is 2+2= ?",
    a: "4",
    b: "5",
    c: "6",
    d: "7",
    ans: "ans1"
},
{
    question: "2)  What is 2+3= ?",
    a: "4",
    b: "5",
    c: "6",
    d: "7",
    ans: "ans2"
},
{
    question: "3)  What is 2+4= ?",
    a: "4",
    b: "5",
    c: "6",
    d: "7",
    ans: "ans3"
},
{
    question: "4)  What is 2+5= ?",
    a: "4",
    b: "5",
    c: "6",
    d: "7",
    ans: "ans4"
},
{
    question: "5)  What is 2+7= ?",
    a: "4",
    b: "5",
    c: "6",
    d: "9",
    ans: "ans4"
},
]

$("#ajax").click(function(){
$("#hello").load("hello.txt")
})

$(document).ready(function(){
var questtioncount=0;
let score=0;
const answers=document.querySelectorAll(".answer") //array 
const submit=document.querySelector("#submit")
const psubmit=document.querySelector("#previoussubmit")


const loadQuestion = ()=>{

    if (questtioncount==0){
        $("#previoussubmit").hide()
    }else{
        $("#previoussubmit").show()
    }
     let questionlist=QuizDB[questtioncount]
    
        console.log("load question number", questtioncount)
        console.log("ques list", questionlist)

        $(".question").text(questionlist.question)
        //$("#submit").click(function(){
           
       // })
       
//$("#option1").text(questionlist.a)
//        $("#option2").text(questionlist.b)
 //       $("#option3").text(questionlist.c)
 //       $("#option4").text(questionlist.d)
       
}

loadQuestion();



const getcheckanswer= ()=>{
    let answer;
    answers.forEach((currentans) =>{
        if (currentans.checked){
            answer=currentans.id;
        }
    });
    return answer;
}
const deselect = () =>{ answers.forEach((currentans) =>{currentans.checked = false;})}

$("#previoussubmit").click(function(){
 
    questtioncount-=1;
    console.log(  "Previous value   " +     questtioncount)
    $("#submit").val("Next Question")

    loadQuestion();
})
submit.addEventListener('click', ()=>{
    console.log("------------------------------------------")
    $("#radio").append("<li><input type='radio' name='answer_1' id='ans1' class='answer' class='float-left'> 
    <label for='ans1' id='option1'>answer option1</label> <li>
    ")

    let checkanswer=getcheckanswer();
    if (QuizDB[questtioncount] && checkanswer == QuizDB[questtioncount].ans){
        console.log("id check   ")
        score++;
        console.log("score     "+score)

    };
    questtioncount++;
    deselect()
    if (questtioncount < QuizDB.length){
        loadQuestion();
        if (questtioncount == 4){
            $("#submit").val("SHOW RESULT")
            
        }

    }else{
        $(".showscore").html("<h2>Your score   </h2>"+score+"/"+QuizDB.length)
    }


    

});
   
})




    </script>
  </body>
</html>